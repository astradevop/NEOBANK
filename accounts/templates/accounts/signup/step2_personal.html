{% extends 'accounts/signup/base_signup.html' %}

{% block content %}
<!-- Step 2: Personal Details -->
<div class="step step-enter">
  <div class="text-center mb-8">
    <div class="h-16 w-16 rounded-2xl bg-gradient-to-br from-teal-500 to-cyan-400 flex items-center justify-center mx-auto mb-4">
      <i data-lucide="user" class="h-8 w-8 text-slate-900"></i>
    </div>
    <h2 class="text-3xl font-bold bg-gradient-to-r from-white to-slate-300 bg-clip-text text-transparent">Personal Details</h2>
    <p class="mt-3 text-slate-400 max-w-md mx-auto leading-relaxed">Provide your personal information for KYC verification and account setup</p>
  </div>

  {% if messages %}
    {% for message in messages %}
      <div class="mb-6 p-4 rounded-xl {% if message.tags == 'error' %}bg-red-500/10 border border-red-400/20 text-red-300{% else %}bg-green-500/10 border border-green-400/20 text-green-300{% endif %}">
        <div class="flex items-center gap-3">
          <i data-lucide="{% if message.tags == 'error' %}alert-circle{% else %}check-circle{% endif %}" class="h-5 w-5"></i>
          <span>{{ message }}</span>
        </div>
      </div>
    {% endfor %}
  {% endif %}

  <form method="post" class="space-y-6">
    {% csrf_token %}
    
    <!-- Full Name Field -->
    <div class="space-y-2">
      <label for="{{ form.full_name.id_for_label }}" class="block text-sm font-semibold text-slate-200">Full Name</label>
      <div class="relative">
        {{ form.full_name }}
        <i data-lucide="user-check" class="absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400"></i>
      </div>
      {% if form.full_name.errors %}
        <div class="text-red-400 text-sm">{{ form.full_name.errors.0 }}</div>
      {% endif %}
      <p class="text-xs text-slate-500">Enter your full name exactly as it appears on your official documents</p>
    </div>

    <!-- Email Field -->
    <div class="space-y-2">
      <label for="{{ form.email.id_for_label }}" class="block text-sm font-semibold text-slate-200">Email Address</label>
      <div class="relative">
        {{ form.email }}
        <i data-lucide="mail" class="absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400"></i>
      </div>
      {% if form.email.errors %}
        <div class="text-red-400 text-sm">{{ form.email.errors.0 }}</div>
      {% endif %}
      <p class="text-xs text-slate-500">We'll use this for account notifications and important updates</p>
    </div>

    <!-- Date of Birth and Gender - Side by side on larger screens -->
    <div class="grid sm:grid-cols-2 gap-6">
      <!-- Date of Birth Field -->
      <div class="space-y-2">
        <label for="{{ form.date_of_birth.id_for_label }}" class="block text-sm font-semibold text-slate-200">Date of Birth</label>
        <div class="relative">
          {{ form.date_of_birth }}
          <i data-lucide="calendar" class="absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400"></i>
        </div>
        {% if form.date_of_birth.errors %}
          <div class="text-red-400 text-sm">{{ form.date_of_birth.errors.0 }}</div>
        {% endif %}
        <p class="text-xs text-slate-500">You must be at least 18 years old</p>
      </div>

      <!-- Gender Field -->
      <div class="space-y-2">
        <label for="{{ form.gender.id_for_label }}" class="block text-sm font-semibold text-slate-200">Gender</label>
        <div class="relative">
          {{ form.gender }}
          <i data-lucide="user-cog" class="absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400"></i>
          <i data-lucide="chevron-down" class="absolute right-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400 pointer-events-none"></i>
        </div>
        {% if form.gender.errors %}
          <div class="text-red-400 text-sm">{{ form.gender.errors.0 }}</div>
        {% endif %}
        <p class="text-xs text-slate-500">As per your government ID</p>
      </div>
    </div>

    <!-- Privacy Notice -->
    <div class="flex items-center gap-4 p-4 rounded-xl bg-slate-800/30 border border-slate-700/30">
      <div class="h-8 w-8 rounded-lg bg-blue-500/20 flex items-center justify-center flex-shrink-0">
        <i data-lucide="shield-check" class="h-4 w-4 text-blue-400"></i>
      </div>
      <div>
        <p class="text-sm text-slate-300 font-medium">Your data is secure</p>
        <p class="text-xs text-slate-400 mt-1">All personal information is encrypted and stored securely for KYC compliance only.</p>
      </div>
    </div>

    <!-- Navigation buttons -->
    <div class="mt-8 flex justify-between">
      <a href="{% url 'accounts:signup_step1' %}" class="px-6 py-3 rounded-2xl border border-slate-700/50 hover:border-slate-600/50 text-slate-300 hover:text-white transition-all duration-200 flex items-center gap-2">
        <i data-lucide="arrow-left" class="h-4 w-4"></i>
        Back
      </a>
      <button type="submit" class="px-8 py-3 rounded-2xl bg-gradient-to-r from-teal-600 to-cyan-500 hover:from-teal-700 hover:to-cyan-600 text-white font-semibold shadow-lg shadow-teal-900/30 transition-all duration-200 flex items-center gap-2">
        Save & Continue
        <i data-lucide="arrow-right" class="h-4 w-4"></i>
      </button>
    </div>
  </form>
</div>
{% endblock %}
